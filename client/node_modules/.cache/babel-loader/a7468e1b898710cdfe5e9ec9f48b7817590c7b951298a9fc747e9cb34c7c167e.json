{"ast":null,"code":"\"use strict\";\n\nvar zlib = require('zlib');\nvar crc32 = require('./crc32');\nvar PNG_HEAD = new Buffer([137, 80, 78, 71, 13, 10, 26, 10]);\nvar PNG_IHDR = new Buffer([0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0]);\nvar PNG_IDAT = new Buffer([0, 0, 0, 0, 73, 68, 65, 84]);\nvar PNG_IEND = new Buffer([0, 0, 0, 0, 73, 69, 78, 68, 174, 66, 96, 130]);\nfunction png(bitmap, stream) {\n  stream.push(PNG_HEAD);\n  var IHDR = Buffer.concat([PNG_IHDR]);\n  IHDR.writeUInt32BE(bitmap.size, 8);\n  IHDR.writeUInt32BE(bitmap.size, 12);\n  IHDR.writeUInt32BE(crc32(IHDR.slice(4, -4)), 21);\n  stream.push(IHDR);\n  var IDAT = Buffer.concat([PNG_IDAT, zlib.deflateSync(bitmap.data, {\n    level: 9\n  }), new Buffer(4)]);\n  IDAT.writeUInt32BE(IDAT.length - 12, 0);\n  IDAT.writeUInt32BE(crc32(IDAT.slice(4, -4)), IDAT.length - 4);\n  stream.push(IDAT);\n  stream.push(PNG_IEND);\n  stream.push(null);\n}\nfunction bitmap(matrix, size, margin) {\n  var N = matrix.length;\n  var X = (N + 2 * margin) * size;\n  var data = new Buffer((X + 1) * X);\n  data.fill(255);\n  for (var i = 0; i < X; i++) {\n    data[i * (X + 1)] = 0;\n  }\n  for (var i = 0; i < N; i++) {\n    for (var j = 0; j < N; j++) {\n      if (matrix[i][j]) {\n        var offset = ((margin + i) * (X + 1) + (margin + j)) * size + 1;\n        data.fill(0, offset, offset + size);\n        for (var c = 1; c < size; c++) {\n          data.copy(data, offset + c * (X + 1), offset, offset + size);\n        }\n      }\n    }\n  }\n  return {\n    data: data,\n    size: X\n  };\n}\nmodule.exports = {\n  bitmap: bitmap,\n  png: png\n};","map":{"version":3,"names":["zlib","require","crc32","PNG_HEAD","Buffer","PNG_IHDR","PNG_IDAT","PNG_IEND","png","bitmap","stream","push","IHDR","concat","writeUInt32BE","size","slice","IDAT","deflateSync","data","level","length","matrix","margin","N","X","fill","i","j","offset","c","copy","module","exports"],"sources":["F:/Coding Projects/Chat App/client/node_modules/qr-image/lib/png.js"],"sourcesContent":["\"use strict\";\n\nvar zlib = require('zlib');\n\nvar crc32 = require('./crc32');\n\nvar PNG_HEAD = new Buffer([137,80,78,71,13,10,26,10]);\nvar PNG_IHDR = new Buffer([0,0,0,13,73,72,68,82,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0]);\nvar PNG_IDAT = new Buffer([0,0,0,0,73,68,65,84]);\nvar PNG_IEND = new Buffer([0,0,0,0,73,69,78,68,174,66,96,130]);\n\nfunction png(bitmap, stream) {\n    stream.push(PNG_HEAD);\n\n    var IHDR = Buffer.concat([PNG_IHDR]);\n    IHDR.writeUInt32BE(bitmap.size, 8);\n    IHDR.writeUInt32BE(bitmap.size, 12);\n    IHDR.writeUInt32BE(crc32(IHDR.slice(4, -4)), 21);\n    stream.push(IHDR);\n\n    var IDAT = Buffer.concat([\n        PNG_IDAT,\n        zlib.deflateSync(bitmap.data, { level: 9 }),\n        new Buffer(4)\n    ]);\n    IDAT.writeUInt32BE(IDAT.length - 12, 0);\n    IDAT.writeUInt32BE(crc32(IDAT.slice(4, -4)), IDAT.length - 4);\n    stream.push(IDAT);\n\n    stream.push(PNG_IEND);\n    stream.push(null);\n}\n\nfunction bitmap(matrix, size, margin) {\n    var N = matrix.length;\n    var X = (N + 2 * margin) * size;\n    var data = new Buffer((X + 1) * X);\n    data.fill(255);\n    for (var i = 0; i < X; i++) {\n        data[i * (X + 1)] = 0;\n    }\n\n    for (var i = 0; i < N; i++) {\n        for (var j = 0; j < N; j++) {\n            if (matrix[i][j]) {\n                var offset = ((margin + i) * (X + 1) + (margin + j)) * size + 1;\n                data.fill(0, offset, offset + size);\n                for (var c = 1; c < size; c++) {\n                    data.copy(data, offset + c * (X + 1), offset, offset + size);\n                }\n            }\n        }\n    }\n\n    return {\n        data: data,\n        size: X\n    }\n}\n\nmodule.exports = {\n    bitmap: bitmap,\n    png: png\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}